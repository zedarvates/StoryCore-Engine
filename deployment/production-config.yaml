# StoryCore Production Configuration
# All sensitive data should use secrets, not plain text

app:
  name: "StoryCore Engine"
  version: "1.0.0"
  environment: "production"
  
backend:
  host: "0.0.0.0"
  port: 8080
  workers: 4
  timeout: 120
  
  # Rate limiting
  rate_limit:
    requests_per_minute: 100
    burst: 20
  
  # CORS
  cors:
    origins:
      - "https://storycore.io"
      - "https://www.storycore.io"
    methods:
      - "*"
    credentials: true

  # Security headers
  security:
    allowed_hosts:
      - "storycore.io"
      - "www.storycore.io"
    strict_transport_security:
      enabled: true
      max_age: 31536000
      include_subdomains: true

# Database
database:
  provider: "postgresql"
  pool_size: 20
  max_overflow: 10
  pool_timeout: 30

# Cache
redis:
  host: "redis"
  port: 6379
  db: 0
  key_prefix: "storycore:"

# External services
services:
  llm:
    provider: "ollama"
    url: "http://llm-service:8001"
    model: "llama2:70b"
    timeout: 300
  
  comfyui:
    url: "http://comfyui:8188"
    timeout: 600

# Storage
storage:
  type: "local"
  base_path: "/app/generated"
  max_file_size: 10737418240  # 10GB
  
# Monitoring
monitoring:
  enabled: true
  log_level: "INFO"
  metrics:
    enabled: true
    path: "/metrics"

# Logging
logging:
  level: "INFO"
  format: "json"
  handlers:
    - type: "console"
    - type: "file"
      filename: "/app/logs/storycore.log"
      max_size: 104857600  # 100MB
      backup_count: 5
