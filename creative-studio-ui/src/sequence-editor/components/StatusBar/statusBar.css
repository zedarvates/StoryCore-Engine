/**
 * StatusBar Styles
 * Requirements: 8.1, 8.2, 8.6
 * 
 * Displays at bottom right with project metadata and color-coded save status.
 * Color coding: green (saved), yellow (modified), red (error)
 */

.status-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 1rem;
  background-color: var(--bg-secondary, #1e1e1e);
  border-top: 1px solid var(--border-color, #3a3a3a);
  font-size: 12px;
  color: var(--text-secondary, #aaaaaa);
  height: 32px;
  position: relative;
}

/* ============================================================================
   Sections
   ============================================================================ */

.status-bar-metadata {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
}

.status-bar-save {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  flex: 0 0 auto;
  margin-left: 1rem;
}

/* ============================================================================
   Status Items
   ============================================================================ */

.status-item {
  display: flex;
  align-items: center;
  gap: 0.375rem;
}

.status-label {
  color: var(--text-muted, #666);
  font-size: 11px;
}

.status-value {
  color: var(--text-primary, #ffffff);
  font-weight: 500;
  font-size: 12px;
}

.status-path {
  max-width: 300px;
}

.status-path .status-value {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.status-separator {
  color: var(--border-color, #3a3a3a);
  font-size: 10px;
}

/* ============================================================================
   Save Status - Color Coding (Requirement 8.6)
   ============================================================================ */

.save-status {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  background-color: var(--bg-tertiary, #2a2a2a);
  transition: all 0.2s ease;
}

.save-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  transition: background-color 0.2s ease;
}

.save-text {
  font-size: 11px;
  font-weight: 500;
  transition: color 0.2s ease;
}

/* Saved state - Green (Requirement 8.6) */
.status-saved .save-indicator {
  background-color: #27AE60;
}

.status-saved .save-text {
  color: #27AE60;
}

/* Modified state - Yellow (Requirement 8.6) */
.status-modified .save-indicator {
  background-color: #F39C12;
}

.status-modified .save-text {
  color: #F39C12;
}

/* Saving state - Blue with pulse animation */
.status-saving .save-indicator {
  background-color: #4A90E2;
  animation: pulse 1s infinite;
}

.status-saving .save-text {
  color: #4A90E2;
}

/* Error state - Red (Requirement 8.6) */
.status-error .save-indicator {
  background-color: #E74C3C;
}

.status-error .save-text {
  color: #E74C3C;
}

@keyframes pulse {
  0%, 100% { 
    opacity: 1;
    transform: scale(1);
  }
  50% { 
    opacity: 0.6;
    transform: scale(0.9);
  }
}

/* ============================================================================
   Hover Effects
   ============================================================================ */

.status-path:hover .status-value {
  color: var(--accent-color, #4A90E2);
  cursor: help;
}

.save-status:hover {
  background-color: var(--bg-hover, #333);
}

/* ============================================================================
   Responsive Design
   ============================================================================ */

@media (max-width: 1024px) {
  .status-bar {
    font-size: 11px;
  }
  
  .status-path {
    max-width: 200px;
  }
  
  .status-separator {
    display: none;
  }
  
  .status-bar-metadata {
    gap: 0.5rem;
  }
}

@media (max-width: 768px) {
  .status-bar {
    padding: 0.375rem 0.75rem;
    height: 28px;
  }
  
  .status-item:not(.status-path) {
    display: none;
  }
  
  .status-path {
    max-width: 150px;
  }
  
  .save-text {
    display: none;
  }
  
  .save-status {
    padding: 0.25rem;
  }
}

/* ============================================================================
   Accessibility
   ============================================================================ */

.status-bar[role="status"] {
  /* Ensure screen readers announce status changes */
}

.save-status[title] {
  cursor: help;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .status-bar {
    border-top-width: 2px;
  }
  
  .save-indicator {
    border: 1px solid currentColor;
  }
}
